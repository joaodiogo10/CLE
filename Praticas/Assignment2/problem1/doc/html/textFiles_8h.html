<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Text processing in Portuguese: /home/joao/Desktop/CLE/Praticas/Assignment2/src/textFiles.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Text processing in Portuguese
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">textFiles.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Text files header.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="probConst_8h_source.html">probConst.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="textFiles_8h_source.html">textFiles.h</a>&quot;</code><br />
</div>
<p><a href="textFiles_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa90cac659d18e8ef6294c7ae337f6b58"><td class="memItemLeft" align="right" valign="top"><a id="aa90cac659d18e8ef6294c7ae337f6b58" name="aa90cac659d18e8ef6294c7ae337f6b58"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SUCCESS</b>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:aa90cac659d18e8ef6294c7ae337f6b58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Operation successful return code. <br /></td></tr>
<tr class="separator:aa90cac659d18e8ef6294c7ae337f6b58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d58f9ac447476b4e084d7ca383f5183"><td class="memItemLeft" align="right" valign="top"><a id="a6d58f9ac447476b4e084d7ca383f5183" name="a6d58f9ac447476b4e084d7ca383f5183"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FAILURE</b>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a6d58f9ac447476b4e084d7ca383f5183"><td class="mdescLeft">&#160;</td><td class="mdescRight">Operation failure return code. <br /></td></tr>
<tr class="separator:a6d58f9ac447476b4e084d7ca383f5183"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ad4ae10927963f41e761481f4044ff509"><td class="memItemLeft" align="right" valign="top"><a id="ad4ae10927963f41e761481f4044ff509" name="ad4ae10927963f41e761481f4044ff509"></a>
typedef struct <a class="el" href="structsFileHandler.html">sFileHandler</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>FileHandler</b></td></tr>
<tr class="memdesc:ad4ae10927963f41e761481f4044ff509"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opaque FileHandler used to identify the target file. <br /></td></tr>
<tr class="separator:ad4ae10927963f41e761481f4044ff509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abac8cec6315f90bd845c93a8882fd48a"><td class="memItemLeft" align="right" valign="top"><a id="abac8cec6315f90bd845c93a8882fd48a" name="abac8cec6315f90bd845c93a8882fd48a"></a>
typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>Result</b>[3]</td></tr>
<tr class="memdesc:abac8cec6315f90bd845c93a8882fd48a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents the results of a file/chunk processing Result[0] -&gt; Number of words ending in consoant. Result[1] -&gt; Number of words beginning in vowel. Result[2] -&gt; Total number of words. <br /></td></tr>
<tr class="separator:abac8cec6315f90bd845c93a8882fd48a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4b64011f4e107d552347dcf9b1a98963"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="textFiles_8h.html#a4b64011f4e107d552347dcf9b1a98963">tf_initialize</a> (int nFiles, char files[nFiles][<a class="el" href="probConst_8h.html#a0887cab1acf8e238e6777ab604ed7044">MAX_FILE_NAME_SIZE</a>])</td></tr>
<tr class="memdesc:a4b64011f4e107d552347dcf9b1a98963"><td class="mdescLeft">&#160;</td><td class="mdescRight">Text files initialization.  <a href="textFiles_8h.html#a4b64011f4e107d552347dcf9b1a98963">More...</a><br /></td></tr>
<tr class="separator:a4b64011f4e107d552347dcf9b1a98963"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42a80bd7df1ca7aee601a45bb786fbce"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="textFiles_8h.html#a42a80bd7df1ca7aee601a45bb786fbce">tf_close</a> ()</td></tr>
<tr class="memdesc:a42a80bd7df1ca7aee601a45bb786fbce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the text files.  <a href="textFiles_8h.html#a42a80bd7df1ca7aee601a45bb786fbce">More...</a><br /></td></tr>
<tr class="separator:a42a80bd7df1ca7aee601a45bb786fbce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09b1fbe81ccce5f8d485f153ffaae49"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="textFiles_8h.html#ad09b1fbe81ccce5f8d485f153ffaae49">tf_readChunk</a> (uint8_t data[<a class="el" href="probConst_8h.html#ab723c5f0e9759c70ed582dfd77431ff7">DATA_BUFFER_SIZE</a>], <a class="el" href="textFiles_8h.html#ad4ae10927963f41e761481f4044ff509">FileHandler</a> *fileHandler, bool *moreWork)</td></tr>
<tr class="memdesc:ad09b1fbe81ccce5f8d485f153ffaae49"><td class="mdescLeft">&#160;</td><td class="mdescRight">retrieves a new chunk of data.  <a href="textFiles_8h.html#ad09b1fbe81ccce5f8d485f153ffaae49">More...</a><br /></td></tr>
<tr class="separator:ad09b1fbe81ccce5f8d485f153ffaae49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5470d7b9c25a60c0a650b2141e1e2e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="textFiles_8h.html#ab5470d7b9c25a60c0a650b2141e1e2e1">tf_registerResult</a> (<a class="el" href="textFiles_8h.html#ad4ae10927963f41e761481f4044ff509">FileHandler</a> fileHandler, <a class="el" href="textFiles_8h.html#abac8cec6315f90bd845c93a8882fd48a">Result</a> count)</td></tr>
<tr class="memdesc:ab5470d7b9c25a60c0a650b2141e1e2e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers the results of a file's chunk of data.  <a href="textFiles_8h.html#ab5470d7b9c25a60c0a650b2141e1e2e1">More...</a><br /></td></tr>
<tr class="separator:ab5470d7b9c25a60c0a650b2141e1e2e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f9e9fb8cbc740876650fbf8f2a87d3a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="textFiles_8h.html#a7f9e9fb8cbc740876650fbf8f2a87d3a">tf_getResults</a> (<a class="el" href="textFiles_8h.html#abac8cec6315f90bd845c93a8882fd48a">Result</a> *results)</td></tr>
<tr class="memdesc:a7f9e9fb8cbc740876650fbf8f2a87d3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve final results.  <a href="textFiles_8h.html#a7f9e9fb8cbc740876650fbf8f2a87d3a">More...</a><br /></td></tr>
<tr class="separator:a7f9e9fb8cbc740876650fbf8f2a87d3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Text files header. </p>
<p >This code is responsible to fetch chunks from the text files, keeping track of the current file being processed and to register the results of each file. </p><dl class="section author"><dt>Author</dt><dd>João Diogo Ferreira, João Tiago Rainho - May 2022 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a42a80bd7df1ca7aee601a45bb786fbce" name="a42a80bd7df1ca7aee601a45bb786fbce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42a80bd7df1ca7aee601a45bb786fbce">&#9670;&nbsp;</a></span>tf_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tf_close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the text files. </p>
<p >Free text files resources.</p>
<dl class="section return"><dt>Returns</dt><dd>FAILURE If an error occurs, otherwise SUCCESS </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="textFiles_8h.html#a6d58f9ac447476b4e084d7ca383f5183" title="Operation failure return code.">FAILURE</a> </dd>
<dd>
<a class="el" href="textFiles_8h.html#aa90cac659d18e8ef6294c7ae337f6b58" title="Operation successful return code.">SUCCESS</a> </dd></dl>

</div>
</div>
<a id="a7f9e9fb8cbc740876650fbf8f2a87d3a" name="a7f9e9fb8cbc740876650fbf8f2a87d3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f9e9fb8cbc740876650fbf8f2a87d3a">&#9670;&nbsp;</a></span>tf_getResults()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tf_getResults </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="textFiles_8h.html#abac8cec6315f90bd845c93a8882fd48a">Result</a> *&#160;</td>
          <td class="paramname"><em>results</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve final results. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">results</td><td>Array containing the results of each file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4b64011f4e107d552347dcf9b1a98963" name="a4b64011f4e107d552347dcf9b1a98963"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b64011f4e107d552347dcf9b1a98963">&#9670;&nbsp;</a></span>tf_initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tf_initialize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nFiles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>files</em>[nFiles][MAX_FILE_NAME_SIZE]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Text files initialization. </p>
<p >This function initializes text files resources and it must be called before calling any other function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nFiles</td><td>Total number of files </td></tr>
    <tr><td class="paramname">files</td><td>Array containing the names of all files</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FAILURE If an error occurs, otherwise SUCCESS </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="textFiles_8h.html#a6d58f9ac447476b4e084d7ca383f5183" title="Operation failure return code.">FAILURE</a> </dd>
<dd>
<a class="el" href="textFiles_8h.html#aa90cac659d18e8ef6294c7ae337f6b58" title="Operation successful return code.">SUCCESS</a> </dd>
<dd>
<a class="el" href="probConst_8h.html#a0887cab1acf8e238e6777ab604ed7044" title="maximum file path size">MAX_FILE_NAME_SIZE</a> </dd></dl>

</div>
</div>
<a id="ad09b1fbe81ccce5f8d485f153ffaae49" name="ad09b1fbe81ccce5f8d485f153ffaae49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09b1fbe81ccce5f8d485f153ffaae49">&#9670;&nbsp;</a></span>tf_readChunk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tf_readChunk </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data</em>[DATA_BUFFER_SIZE], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="textFiles_8h.html#ad4ae10927963f41e761481f4044ff509">FileHandler</a> *&#160;</td>
          <td class="paramname"><em>fileHandler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>moreWork</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>retrieves a new chunk of data. </p>
<p >The size of the chunk of data is always less or equal then DATA_BUFFER_SIZE - 2. If there's no more text to process no chunk of data is retrieved and this function returns false, the thread might end is execution. The size of the chunk is store in the last 2 bytes of the array.</p>
<p >data[DATA_BUFFER_SIZE - 1] is the MSB.</p>
<p >data[DATA_BUFFER_SIZE - 2] is the LSB.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>Buffer containing the chunk of Data </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">fileHandler</td><td>Target processing file handler </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">moreWork</td><td>True if there is more dataChunks. False, otherwise.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FAILURE If an error occurs, otherwise SUCCESS </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="textFiles_8h.html#a6d58f9ac447476b4e084d7ca383f5183" title="Operation failure return code.">FAILURE</a> </dd>
<dd>
<a class="el" href="textFiles_8h.html#aa90cac659d18e8ef6294c7ae337f6b58" title="Operation successful return code.">SUCCESS</a> </dd>
<dd>
<a class="el" href="probConst_8h.html#ab723c5f0e9759c70ed582dfd77431ff7" title="size of worker&#39;s data chuck buffer, last 2 bytes of the chunk specifies the amount of data sent">DATA_BUFFER_SIZE</a> </dd></dl>

</div>
</div>
<a id="ab5470d7b9c25a60c0a650b2141e1e2e1" name="ab5470d7b9c25a60c0a650b2141e1e2e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5470d7b9c25a60c0a650b2141e1e2e1">&#9670;&nbsp;</a></span>tf_registerResult()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tf_registerResult </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="textFiles_8h.html#ad4ae10927963f41e761481f4044ff509">FileHandler</a>&#160;</td>
          <td class="paramname"><em>fileHandler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="textFiles_8h.html#abac8cec6315f90bd845c93a8882fd48a">Result</a>&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers the results of a file's chunk of data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileHandler</td><td>Target processing file handler </td></tr>
    <tr><td class="paramname">count</td><td>List of counting results </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
